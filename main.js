(()=>{"use strict";function t(t,e){if(""!==e){var n=document.createElement("div");n.className="task-list__item",n.innerHTML="\n        ".concat(e,'\n        <div class="delete-task hidden">X</div>\n      '),t.appendChild(n)}}function e(t,e){var s;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=function(t,e){if(t){if("string"==typeof t)return n(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){s&&(t=s);var l=0,o=function(){};return{s:o,n:function(){return l>=t.length?{done:!0}:{done:!1,value:t[l++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,a=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{i||null==s.return||s.return()}finally{if(a)throw r}}}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function s(){var t,n=document.querySelectorAll("#todo .list__task-list .task-list__item"),s=document.querySelectorAll("#inProgress .list__task-list .task-list__item"),l=document.querySelectorAll("#done .list__task-list .task-list__item"),o={todo:[],inProgress:[],done:[]},r=e(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;o.todo.push(i.textContent)}}catch(t){r.e(t)}finally{r.f()}var a,c=e(s);try{for(c.s();!(a=c.n()).done;){var d=a.value;o.inProgress.push(d.textContent)}}catch(t){c.e(t)}finally{c.f()}var u,f=e(l);try{for(f.s();!(u=f.n()).done;){var _=u.value;o.done.push(_.textContent)}}catch(t){f.e(t)}finally{f.f()}localStorage.setItem("tasksList",JSON.stringify(o))}function l(t,e){var n=document.elementFromPoint(t.clientX,t.clientY),s=n.getBoundingClientRect().top;n.classList.contains("task-list__item")?t.pageY>window.scrollY+s+n.offsetHeight/2?n.closest(".list__task-list").insertBefore(e,n.nextElementSibling):n.closest(".list__task-list").insertBefore(e,n):n.classList.contains("list__task-list")&&!n.querySelector(".task-list__item")&&n.append(e)}var o,r,i,a,c=document.querySelector("#board"),d=null,u=null;document.addEventListener("DOMContentLoaded",(function(){var e=JSON.parse(localStorage.getItem("tasksList"));null!==e&&function(e){for(var n=document.querySelector("#todo .list__task-list"),s=document.querySelector("#inProgress .list__task-list"),l=document.querySelector("#done .list__task-list"),o=e.todo,r=e.inProgress,i=e.done,a=0;a<o.length;a+=1)t(n,o[a]);for(var c=0;c<r.length;c+=1)t(s,r[c]);for(var d=0;d<i.length;d+=1)t(l,i[d])}(e)})),c.addEventListener("mousedown",(function(e){var n=e.target;if(n.classList.contains("task-list__item")){e.preventDefault(),n.querySelector(".delete-task").classList.add("hidden");var l=n.getBoundingClientRect(),c=l.top,f=l.left;o=(d=n).offsetWidth,r=d.offsetHeight,a=e.pageX-f,i=e.pageY-c,(u=n.cloneNode(!0)).innerHTML="",u.style.backgroundColor="#D5DBDE",u.style.border="none",u.style.width="".concat(o,"px"),u.style.height="".concat(r,"px"),d.classList.add("dragged"),n.parentNode.insertBefore(u,n.nextElementSibling),d.style.left="".concat(e.pageX-a,"px"),d.style.top="".concat(e.pageY-i,"px"),d.style.width="".concat(o,"px"),d.style.height="".concat(r,"px")}else if(n.classList.contains("list__add-card"))n.parentNode.querySelector(".list__input").classList.remove("hidden"),n.classList.add("hidden");else if(n.classList.contains("list__input__add")){var _=n.closest(".list").querySelector(".list__task-list"),p=n.closest(".list__input").querySelector("#task-description");t(_,p.value),p.value="",n.closest(".list").querySelector(".list__add-card").classList.remove("hidden"),n.parentNode.classList.add("hidden"),s()}else if(n.classList.contains("delete-task")){var v=n.parentNode;v.parentNode.removeChild(v),s()}else(n.classList.contains("list__input__cancel")||n.classList.contains("list__input__cancel"))&&(n.closest(".list").querySelector(".list__add-card").classList.remove("hidden"),n.parentNode.classList.add("hidden"))})),c.addEventListener("mouseleave",(function(t){d&&(t.preventDefault(),u.parentNode.removeChild(u),d.classList.remove("dragged"),d.style="",u=null,d=null)})),c.addEventListener("mousemove",(function(t){d&&(t.preventDefault(),l(t,u),d.style.left="".concat(t.pageX-a,"px"),d.style.top="".concat(t.pageY-i,"px"))})),c.addEventListener("mouseup",(function(t){d&&(l(t,d),u.parentNode.removeChild(u),d.classList.remove("dragged"),d.style="",u=null,d=null,s())}))})();